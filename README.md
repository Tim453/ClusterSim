# GPGPU-Sim
Welcome to GPGPU-Sim, a cycle-level simulator modeling contemporary graphics
processing units (GPUs) running GPU computing workloads written in CUDA or
OpenCL.

This is a modifed version of GPGPU-Sim with the following features

- Support for Thread Block Clusters and Distributed shared memory
- Supports CUDA 12
- Works on recent Ubuntu systems (24.04, 22.04)
- Uses CMake Build system

## Setup


### Dependencies

```bash
sudo apt-get install build-essential xutils-dev bison zlib1g-dev flex libglu1-mesa-dev clang cuda-toolkit
# The Cuda toolkit needs to be in the PATH
export PATH=$PATH:/usr/local/cuda/bin
```

### Build

The simulator will be build as a shared library. By adjusting the dynamic link loader path, CUDA applications built with cudart as a shared library can utilize the simulator.

```bash
git clone https://collaborating.tuhh.de/e-exk5/research/thread-block-cluster/gpgpu-sim_distribution.git
cd gpgpu-sim_distribution
mkdir build && cd build
cmake -DMAKE_BUILD_TYPE=Release ..
make -j
```

Alternatively, the simulator can be included as a subdirectory in the CMake configuration file, allowing the CUDA application to be linked against the simulator during the build process. This will add the simulator to the executable's rpath.

```cmake
# Import the simulator to the CMake scope
add_subdirectory(gpgpu-sim_distribution)

add_executable(hello_cuda main.cu)
# Link the program against the simulator
target_link_libraries(hello_cuda cudart ZLIB::ZLIB)
```

### Run

By default the simulator uses `configs/tested-cfgs/SM90_H100/gpgpusim.config`. It can be changed by setting an enviorment variable.

```bash
# If the simulator is already in the rpath this step is not needed
source enable_simulator.sh
# Make sure that cuda program uses libcudart.so of the simulator
ldd hello_cuda
# Run a CUDA program
./hello_cuda
# Change the gpu_config
export GPUSIM_CONFIG=<PATH_TO_CONFIG>/gpgpusim.config
./hello_cuda
```

## Knonwn issues
- Thread block cluster only can be used when using the performance simulation. It is not possible to run functional simualtion only
- The simulator cannot run kernels build with debug symbols (compiled with `-G`)


# Additional information

Please see the copyright notice in the file COPYRIGHT distributed with this
release in the same directory as this file.

GPGPU-Sim 4.0 is compatible with Accel-Sim simulation framework. With the support
of Accel-Sim, GPGPU-Sim 4.0 can run NVIDIA SASS traces (trace-based simulation)
generated by NVIDIA's dynamic binary instrumentation tool (NVBit). For more information
about Accel-Sim, see [https://accel-sim.github.io/](https://accel-sim.github.io/)

If you use GPGPU-Sim 4.0 in your research, please cite:

Mahmoud Khairy, Zhesheng Shen, Tor M. Aamodt, Timothy G Rogers.
Accel-Sim: An Extensible Simulation Framework for Validated GPU Modeling.
In proceedings of the 47th IEEE/ACM International Symposium on Computer Architecture (ISCA),
May 29 - June 3, 2020.

If you use CuDNN or PyTorch support (execution-driven simulation), checkpointing or our new debugging tool for functional
simulation errors in GPGPU-Sim for your research, please cite:

Jonathan Lew, Deval Shah, Suchita Pati, Shaylin Cattell, Mengchi Zhang, Amruth Sandhupatla,
Christopher Ng, Negar Goli, Matthew D. Sinclair, Timothy G. Rogers, Tor M. Aamodt
Analyzing Machine Learning Workloads Using a Detailed GPU Simulator, arXiv:1811.08933,
https://arxiv.org/abs/1811.08933

If you use the Tensor Core model in GPGPU-Sim or GPGPU-Sim's CUTLASS Library
for your research please cite:

Md Aamir Raihan, Negar Goli, Tor Aamodt,
Modeling Deep Learning Accelerator Enabled GPUs, arXiv:1811.08309,
https://arxiv.org/abs/1811.08309

If you use the AccelWattch power model in your research, please cite:

Vijay Kandiah, Scott Peverelle, Mahmoud Khairy, Junrui Pan, Amogh Manjunath, Timothy G. Rogers, Tor M. Aamodt, and Nikos Hardavellas. 2021.
AccelWattch: A Power Modeling Framework for Modern GPUs. In MICRO54: 54th Annual IEEE/ACM International Symposium on Microarchitecture
(MICRO ’21), October 18–22, 2021, Virtual Event, Greece.

If you use the support for CUDA dynamic parallelism in your research, please cite:

Jin Wang and Sudhakar Yalamanchili, Characterization and Analysis of Dynamic
Parallelism in Unstructured GPU Applications, 2014 IEEE International Symposium
on Workload Characterization (IISWC), November 2014.

If you use figures plotted using AerialVision in your publications, please cite:

Aaron Ariel, Wilson W. L. Fung, Andrew Turner, Tor M. Aamodt, Visualizing
Complex Dynamics in Many-Core Accelerator Architectures, In Proceedings of the
IEEE International Symposium on Performance Analysis of Systems and Software
(ISPASS), pp. 164-174, White Plains, NY, March 28-30, 2010.

This file contains instructions on installing, building and running GPGPU-Sim.
Detailed documentation on what GPGPU-Sim models, how to configure it, and a
guide to the source code can be found here: <http://gpgpu-sim.org/manual/>.
Instructions for building doxygen source code documentation are included below.

Previous versions of GPGPU-Sim (3.2.0 to 4.1.0) included the [GPUWattch Energy model](http://gpgpu-sim.org/gpuwattch/) which has been replaced by AccelWattch version 1.0 in GPGPU-Sim version 4.2.0. AccelWattch supports modern GPUs and is validated against a NVIDIA Volta QV100 GPU. Detailed documentation on AccelWattch can be found here: [AccelWattch Overview](https://github.com/VijayKandiah/accel-sim-framework#accelwattch-overview) and [AccelWattch MICRO'21 Artifact Manual](https://github.com/VijayKandiah/accel-sim-framework/blob/release/AccelWattch.md).

If you have questions, please sign up for the google groups page (see
gpgpu-sim.org), but note that use of this simulator does not imply any level of
support. Questions answered on a best effort basis.

To submit a bug report, go here: http://www.gpgpu-sim.org/bugs/

See Section 2 "INSTALLING, BUILDING and RUNNING GPGPU-Sim" below to get started.

See file CHANGES for updates in this and earlier versions.


